\documentclass[dvipsnames,parskip,a4paper]{scrartcl}

% Colour and design packages
\usepackage[usenames,dvipsnames]{xcolor}
\usepackage{tikz}
\usetikzlibrary{positioning}

\usepackage{pifont}
\usepackage{graphicx}
\usepackage{etoolbox}
\usepackage{longtable}
\usepackage{fontspec}
\usepackage[export]{adjustbox}
\usepackage[utf8]{inputenc}
\usepackage[margin=1.5cm]{geometry}

\setlength{\parskip}{0pt}
\setlength{\tabcolsep}{0pt}

% To make sure we don't have page numbers.
\usepackage{nopageno}

% Our consistent sizing
\newcommand{\cardroundingradius}{4mm}
\newcommand{\cardboxroundingradius}{0.5mm}
\newcommand{\cardtextborderspace}{1.28mm}
\newcommand{\cardwidth}{57mm}
\newcommand{\cardheight}{86mm}
\newcommand{\cardtitleheight}{7.1mm}
\newcommand{\cardtextheight}{15.8mm}
\newcommand{\cardtcheight}{6mm}
\newcommand{\cardborderspace}{3mm}
\newcommand{\cardvspace}{2.5mm}

\newcommand{\iconsize}{3.4mm}
\newcommand{\icondepth}{0.45mm}

\newcommand{\cardimgborderspace}{0.1mm}
\newcommand{\cardimgwidth}{50.8mm}
\newcommand{\cardimgheight}{43.4mm}
\newcommand{\cardimghalfwidth}{25.4mm}
\newcommand{\cardimghalfheight}{21.7mm}

% Consistent colours
\newcommand{\cardcolour}{gray!60}
\newcommand{\cardboxcolour}{gray!30}
\newcommand{\cardboxbordercolour}{gray}

% Card template
\newcommand{\card}[5]{

\begin{tikzpicture}[baseline = (current bounding box.center)]
\draw[rounded corners = \cardroundingradius, fill = \cardcolour] (0,0) rectangle
    (\cardwidth, \cardheight);

\node (title) at (0.5 * \cardwidth, \cardheight - \cardborderspace)
    [ anchor = north, fill = \cardboxcolour, draw = \cardboxbordercolour, thick, text centered, 
    rounded corners = \cardboxroundingradius,
    inner sep = \cardtextborderspace,
    text width = \cardwidth - 2 * (\cardborderspace + \cardtextborderspace),
    minimum height = \cardtitleheight]
    { \Large #1 };

\node (image) at (0.5 * \cardwidth, \cardborderspace + \cardtcheight + \cardtextheight + 2 * \cardvspace)
    [ anchor = south, fill = \cardboxcolour, thick, text centered,
    rounded corners = \cardboxroundingradius,
    inner sep = \cardimgborderspace,
    text width = \cardwidth - 2 * (\cardborderspace + \cardimgborderspace),
    minimum height = \cardheight - \cardtcheight - \cardtextheight - \cardtitleheight - 2 * \cardborderspace - 3 * \cardvspace]
    {\includegraphics[max size={\cardimgwidth}{\cardimgheight}, min size={\cardimgwidth}{\cardimgheight}, Clip*={.5\width-\cardimghalfwidth} {.5\height-\cardimghalfheight} {.5\width+\cardimghalfwidth} {.5\height+\cardimghalfheight}]{ #5 }};

\node (image_border) at (0.5 * \cardwidth, \cardborderspace + \cardtcheight + \cardtextheight + 2 * \cardvspace)
    [ anchor = south, draw = \cardboxbordercolour, thick, text centered,
    rounded corners = \cardboxroundingradius,
    inner sep = \cardimgborderspace,
    text width = \cardwidth - 2 * (\cardborderspace + \cardimgborderspace),
    minimum height = \cardheight - \cardtcheight - \cardtextheight - \cardtitleheight - 2 * \cardborderspace - 3 * \cardvspace]
    {};

\node (text) at (0.5 * \cardwidth, \cardborderspace + \cardtcheight + \cardvspace)
    [ anchor = south, fill = \cardboxcolour, draw = \cardboxbordercolour, thick, text centered,
    rounded corners = \cardboxroundingradius,
    inner sep = \cardtextborderspace,
    text width = \cardwidth - 2 * (\cardborderspace + \cardtextborderspace),
    minimum height = \cardtextheight]
    { #3 };

\node (type)
    [ fill = \cardboxcolour, draw = \cardboxbordercolour, thick,
    below left = \cardvspace + \cardtcheight and 0mm of text, anchor = south west,
    rounded corners = \cardboxroundingradius,
    inner sep = \cardtextborderspace,
    minimum height = \cardtcheight]
    { #2 };

\node (cost)
    [ fill = \cardboxcolour, draw = \cardboxbordercolour, thick,
    below right = \cardvspace + \cardtcheight and 0mm of text, anchor = south east,
    rounded corners = \cardboxroundingradius,
    inner sep = \cardtextborderspace,
    minimum height = \cardtcheight]
    { #4 Gold };

\end{tikzpicture}%

}

% Elemental symbols
\newcommand{\icon}[1]{\raisebox{-\icondepth}{\includegraphics[height=\iconsize]{ #1 }}}
\newcommand{\fire}{\icon{icons/fire.png}}
\newcommand{\earth}{\icon{icons/earth.png}}
\newcommand{\water}{\icon{icons/water.png}}
\newcommand{\nature}{\icon{icons/nature.png}}
\newcommand{\magic}{\icon{icons/magic.png}}
\newcommand{\gold}{\icon{icons/gold.png}}
\newcommand{\chance}{\icon{icons/chance.png}}

% Costs
\newcommand{\free}{0}
\newcommand{\onecost}{3}
\newcommand{\twocost}{7}
\newcommand{\threecost}{12}
\newcommand{\fourcost}{18}
\newcommand{\fivecost}{25}

\newcommand{\rerollcost}{2}
\newcommand{\facedowncost}{5}

\newcommand{\handsize}{4}
\newcommand{\dacedownsize}{2}
\newcommand{\shopsize}{5}

\title{Elemental Dice}
\author{Emil Indzhev}

\begin{document}

\maketitle

\begin{itemize}

\item

The game is played between two players who take turns. The player whose HP reaches 0 first loses. If both players' HPs reach 0 at the same time, the one whose action caused this wins.

\item

Seven dice determine the strengths of various cards: fire \fire, earth \earth, water \water, nature \nature, magic \magic, gold \gold \ and chance \chance. They are rolled at the start of the game. The chance \chance \ die is also rerolled whenever its value is needed (possibly multiple times per turn) and dice-control cards cannot affect it.

\item

Each starts with 100 HP and 8 Basic Income cards in their draw pile. The first player starts with 5 gold and the second with 6 gold.

\item

All non-starter cards are shuffled into a shop deck. Initially, there is no shop laid out. When a player rerolls the shop, which costs \rerollcost \ gold, the current laid out shop is moved to the shop's discard pile and \shopsize \ cards are drawn from the shop's draw pile. When a card is bought by a player, by paying its cost, it is not automatically replaced with a new card. The bought card goes to the player's discard pile, unless it is a passive card, in which case it is immediately and permanently deployed.

\item

On each turn a player may (in any order): gain one gold, play at most one action from their hand, play any number of blessings from their hand, play any number of face down cards, reroll the shop at most twice, buy at most one card from the shop. Instead of playing an action, the player may place a card face down, which costs \facedowncost \ gold. A played card, after its effect is executed, goes to the player's discard pile. After a player's turn is over, they have to discard their hand and draw \handsize \ cards from their draw pile (this is also done at the start of the game). A player may have at most \dacedownsize \ face down cards at a time.

\item

Whenever a card needs to be drawn from a deck's draw pile, but it is empty, its discard pile is shuffled and it becomes the draw pile.

\item

Blessings and face down cards may also be played during the opponent's turn. This can be done at any time, including between the opponent playing a card and executing its action. In such a situation, the player whose turn it is, may in turn, also respond before executing their original action. This can repeat ad infinitum.

\item

A player dealing damage (to their opponent or themselves) receives gold equal to the damage dealt.

\end{itemize}

\newpage

\begin{longtable}{ c c c }

\card{Fire}{Action}{Deal \fire \ damage to your opponent.}{\twocost}{imgs/fire.png}
&
\card{Tremor}{Action}{Deal \earth \ damage to your opponent.}{\twocost}{imgs/tremor.png}
&
\card{Heavy Rain}{Action}{Deal \water \ damage to both yourself and  your opponent.}{\twocost}{imgs/heavy_rain.png}
&
\card{Blind Attack}{Action}{Deal \chance \ damage to your opponent.}{\twocost}{imgs/blind_attack.png}
&
\card{Blazing Fire}{Action}{Deal 2\hspace{1pt}$\times$\hspace{1pt}\fire \ damage to your opponent.}{\threecost}{imgs/blazing_fire.png}
&
\card{Massive Earthquake}{Action}{Deal 2\hspace{1pt}$\times$\hspace{1pt}\earth \ damage to your opponent.}{\threecost}{imgs/massive_earthquake.png}
&
\card{Torrential Rainstorm}{Action}{Deal 2\hspace{1pt}$\times$\hspace{1pt}\water \ damage to both yourself and your opponent.}{\threecost}{imgs/torrential_rainstorm.png}
&
\card{Haphazard Offence}{Action}{Deal 2\hspace{1pt}$\times$\hspace{1pt}\chance \ to your opponent.}{\threecost}{imgs/haphazard_offence.png}
&
\card{Lava Surge}{Action}{Deal \fire\hspace{1pt}$+$\hspace{1pt}\earth \ damage to your opponent.}{\threecost}{imgs/lava_surge.png}
&
\card{Erratic Blaze}{Action}{Deal \fire\hspace{1pt}$+$\hspace{1pt}\chance \ damage to your opponent.}{\threecost}{imgs/erratic_blaze.png}
&
\card{Chaotic Avalanche}{Action}{Deal \earth\hspace{1pt}$+$\hspace{1pt}\chance \ damage to your opponent.}{\threecost}{imgs/chaotic_avalanche.png}
&
\card{Scalding Fog}{Action}{Deal \water\hspace{1pt}$+$\hspace{1pt}\fire \ damage to both yourself and your opponent.}{\threecost}{imgs/scalding_fog.png}
&
\card{Devastating Mudslide}{Action}{Deal \water\hspace{1pt}$+$\hspace{1pt}\earth \ damage to both yourself and your opponent.}{\threecost}{imgs/devastating_mudslide.png}
&
\card{Wild Seas}{Action}{Deal \water\hspace{1pt}$+$\hspace{1pt}\chance \ damage to both yourself and your opponent.}{\threecost}{imgs/wild_seas.png}
&
\card{Magical Inferno}{Action}{Deal \fire\hspace{1pt}$\times$\hspace{1pt}\magic \ damage to your opponent.}{\fourcost}{imgs/magical_inferno.png}
&
\card{Arcane Meteor}{Action}{Deal \earth\hspace{1pt}$\times$\hspace{1pt}\magic \ damage to your opponent.}{\fourcost}{imgs/arcane_meteor.png}
&
\card{Biblical Flood}{Action}{Deal \water\hspace{1pt}$\times$\hspace{1pt}\magic \ damage to both yourself and your opponent.}{\fourcost}{imgs/biblical_flood.png}
&
\card{Ethereal Havoc}{Action}{Deal \chance\hspace{1pt}$\times$\hspace{1pt}\magic \ damage to your opponent.}{\fourcost}{imgs/ethereal_havoc.png}
&

\card{Flower Gardens}{Action}{Restore \nature \ HP.}{\onecost}{imgs/flower_gardens.png}
&
\card{Lush Forests}{Action}{Restore 2\hspace{1pt}$\times$\hspace{1pt}\nature \ HP.}{\twocost}{imgs/lush_forests.png}
&
\card{Fertile Soils}{Action}{Restore \nature\hspace{1pt}$+$\hspace{1pt}\earth \ HP.}{\twocost}{imgs/fertile_soils.png}
&
\card{Hot Springs}{Action}{Restore \nature\hspace{1pt}$+$\hspace{1pt}\water \ HP.}{\twocost}{imgs/hot_springs.png}
& 
\card{Clover Fields}{Action}{Restore \nature\hspace{1pt}$+$\hspace{1pt}\chance \ HP.}{\twocost}{imgs/clover_fields.png}
&
\card{Mystical Restoration}{Action}{Restore \nature\hspace{1pt}$\times$\hspace{1pt}\magic \ HP.}{\threecost}{imgs/mystical_restoration.png}
&

\card{Marketplace}{Action}{Gain \gold \ gold.}{\onecost}{imgs/marketplace.png}
&
\card{Treasury}{Action}{Gain 2\hspace{1pt}$\times$\hspace{1pt}\gold \ gold.}{\twocost}{imgs/treasury.png}
&
\card{Gold Mine}{Action}{Gain \gold\hspace{1pt}$+$\hspace{1pt}\earth \ gold.}{\twocost}{imgs/gold_mine.png}
&
\card{Gold Panning}{Action}{Gain \gold\hspace{1pt}$+$\hspace{1pt}\water \ gold.}{\twocost}{imgs/gold_panning.png}
&
\card{Free Market}{Action}{Gain \gold\hspace{1pt}$+$\hspace{1pt}\chance \ gold.}{\twocost}{imgs/free_market.png}
&
\card{Ancient Alchemy}{Action}{Gain \gold\hspace{1pt}$\times$\hspace{1pt}\magic \ gold.}{\threecost}{imgs/ancient_alchemy.png}
&

\card{Water Reservoirs}{Action}{\small Shield \water \ against \fire \ damage until the end of your opponent's turn.}{\onecost}{imgs/water_reservoirs.png}
&
\card{Solid Infrastructure}{Action}{\small Shield \earth \ against \water \ damage until the end of your opponent's turn.}{\onecost}{imgs/solid_infrastructure.png}
&
\card{Natural Forests}{Action}{\small Shield \nature \ against \earth \ damage until the end of your opponent's turn.}{\onecost}{imgs/natural_forests.png}
&
\card{Magical Barrier}{Action}{\small Shield \magic \ against multi-element damage until the end of your opponent's turn.}{\twocost}{imgs/magical_barrier.png}
&
\card{Paid Militia}{Action}{\small Shield any damage by paying one gold per damage until the end of your opponent's turn.}{\twocost}{imgs/paid_militia.png}
&
 
\card{Prometheus's Gift}{Action}{Triple the strength of all your \fire \ effects.}{\threecost}{imgs/prometheuss_gift.png}
&
\card{Gaia's Favor}{Action}{Double the strength of all your \earth \ effects.}{\threecost}{imgs/gaias_favor.png}
&
\card{Poseidon's Trident}{Action}{Double the strength of all your \water \ effects.}{\threecost}{imgs/poseidons_trident.png}
&
\card{Ancient Grimoire}{Action}{Double the strength of all your \magic \ effects.}{\threecost}{imgs/ancient_grimoire.png}
&
\card{Nymphs' Grace}{Action}{Double the strength of all your \nature \ effects.}{\twocost}{imgs/nymphs_grace.png}
&
\card{Midas Touch}{Action}{Double the strength of all your \gold \ effects.}{\twocost}{imgs/midas_touch.png}
&
\card{Purism}{Action}{Double the strength of all your single-element effects.}{\threecost}{imgs/purism.png}
&
\card{Fortuna's Protection}{Passive}{You may choose not to reroll the \chance \ die when its value is needed.}{\threecost}{imgs/fortunas_protection.png}
&

\card{Gambling}{Action}{Reroll a die once.}{\onecost}{imgs/gambling.png}
&
\card{Cheap Trick}{Action}{Change the value of a die by one.}{\onecost}{imgs/cheap_trick.png}
&
\card{Second Chance}{Action}{Reroll a die up to twice.}{\twocost}{imgs/second_chance.png}
&
\card{Sleight of Hand}{Action}{Change the value of a die by up to two.}{\twocost}{imgs/sleight_of_hand.png}
&
\card{Calculated Risk}{Action}{Reroll a die up to four times.}{\threecost}{imgs/calculated_risk.png}
&
\card{Smoke and Mirrors}{Action}{Change the value of a die by up to three.}{\threecost}{imgs/smoke_and_mirrors.png}
&
\card{Perspective Shift}{Action}{Flip a die over.}{\threecost}{imgs/perspective_shift.png}
&
\card{Trickster God}{Action}{Swap the values of two dice.}{\fourcost}{imgs/trickster_god.png}
&

\card{Mirror Wall}{Blessing}{Draw a card and look at your opponent's hand.}{\onecost}{imgs/mirror_wall.png}
&
\card{Mirror Table}{Blessing}{Draw a card and look at your opponent's face down cards.}{\onecost}{imgs/mirror_table.png}
&
\card{Sneak Peek}{Blessing}{Draw a card and look at the top \handsize \ cards of your draw pile.}{\onecost}{imgs/sneak_peak.png}
&
\card{Reconnaissance}{Blessing}{Draw a card and look at the top \handsize \ cards of your opponent's draw pile.}{\onecost}{imgs/reconnaissance.png}
&
\card{Forecast}{Blessing}{Draw a card and look at the top \shopsize \ cards of the shop's draw pile.}{\onecost}{imgs/forecast.png}
&

\card{Well-Laid Plans}{Action}{Reorder your draw pile.}{\twocost}{imgs/well_laid_plans.png}
&
\card{Sabotage}{Action}{Reorder your opponent's draw pile.}{\twocost}{imgs/sabotage.png}
&
\card{Magnetic Hands}{Action}{ \small Move any card from your draw or discard pile to your hand, then shuffle your draw pile.}{\twocost}{imgs/magnetic_hands.png}
&

\card{Weak Hands}{Action}{Your opponent must discard 3 cards from their hand.}{\threecost}{imgs/weak_hands.png}
&
\card{Faulty Table}{Action}{Your opponent must discard 1 card from their face down cards.}{\threecost}{imgs/faulty_table.png}
&

\card{Veto}{Action}{Cancel an action of your opponent and permanently remove this card.}{\threecost}{imgs/veto.png}
&

\card{All for One}{Blessing}{Discard 3 cards from your hand and play up to 1 extra action.}{\onecost}{imgs/all_for_one.png}
&
\card{Cruel Pact}{Blessing}{Take \chance \ damage and play up to 1 extra action.}{\onecost}{imgs/cruel_pact.png}
&
\card{Deal with the Devil}{Blessing}{Take $2\times$\chance \ damage and play up to 2 extra actions.}{\onecost}{imgs/deal_with_the_devil.png}
&
\card{Multitasking Novice}{Blessing}{Play up to 1 extra action.}{\twocost}{imgs/multitasking_novice.png}
&
\card{Multitasking Master}{Blessing}{Play up to 2 extra actions.}{\threecost}{imgs/multitasking_master.png}
&
\card{Multitasking Lord}{Blessing}{Play up to 3 extra actions.}{\fourcost}{imgs/multitasking_lord.png}
&
\card{Multitasking God}{Blessing}{Play up to 4 extra actions.}{\fivecost}{imgs/multitasking_god.png}
&

\card{Exploration Novice}{Action}{Draw 2 cards.}{\onecost}{imgs/exploration_novice.png}
&
\card{Exploration Master}{Action}{Draw 3 cards.}{\twocost}{imgs/exploration_master.png}
&
\card{Exploration Lord}{Action}{Draw 4 cards.}{\threecost}{imgs/exploration_lord.png}
&
\card{Exploration God}{Action}{Draw 5 cards.}{\fourcost}{imgs/exploration_god.png}
&

\card{Optimization Novice}{Action}{Permanently remove up to 1 card from your hand.}{\onecost}{imgs/optimization_novice.png}
&
\card{Optimization Master}{Action}{Permanently remove up to 2 cards from your hand.}{\twocost}{imgs/optimization_master.png}
&
\card{Optimization Lord}{Action}{Permanently remove up to 3 cards from your hand or this card.}{\threecost}{imgs/optimization_lord.png}
&
\card{Optimization God}{Action}{Permanently remove up to 4 cards from your hand, discard pile or this card.}{\fourcost}{imgs/optimization_god.png}
&

\card{Wish}{Action}{Buy any avaliable card in the game for free, then shuffle the shop's draw pile.}{\fivecost}{imgs/wish.png}
&

\card{Reckless Spending}{Passive}{You may reroll the shop and buy cards an unlimited number of times per turn.}{\twocost}{imgs/reckless_spending.png}
&
\card{Express Shipping}{Passive}{All cards you buy go into your hand.}{\threecost}{imgs/express_shipping.png}
&
\card{Merchant's Goodwill}{Passive}{Shop rerolls cost 1 gold less.}{\threecost}{imgs/merchants_goodwill.png}
&
\card{Big Handed}{Passive}{Draw 1 extra card after your turn.}{\fourcost}{imgs/big_handed.png}
&
\card{Spacious Table}{Passive}{You have space for 1 extra face down card.}{\threecost}{imgs/spacious_table.png}
&
\card{Cheapskate}{Passive}{Face down cards no longer cost gold to play.}{\threecost}{imgs/cheapskate.png}
&
\card{Clear Mind}{Passive}{Play up to 1 extra action per turn, but draw 1 card less after your turn.}{\fourcost}{imgs/clear_mind.png}
&
\card{At What Cost}{Passive}{ \small Permanently remove a passive card upon buying this; play up to 1 extra action per turn.}{\fourcost}{imgs/at_what_cost.png}
&
\card{Truly Blessed}{Passive}{Draw a card whenever you play a blessing.}{\fourcost}{imgs/truly_blessed.png}
&

\card{Basic Income}{Action}{Gain 1 gold.}{\free}{imgs/basic_income.png}
&
\card{Basic Income}{Action}{Gain 1 gold.}{\free}{imgs/basic_income.png}
&
\card{Basic Income}{Action}{Gain 1 gold.}{\free}{imgs/basic_income.png}
&
\card{Basic Income}{Action}{Gain 1 gold.}{\free}{imgs/basic_income.png}
&
\card{Basic Income}{Action}{Gain 1 gold.}{\free}{imgs/basic_income.png}
&
\card{Basic Income}{Action}{Gain 1 gold.}{\free}{imgs/basic_income.png}
&
\card{Basic Income}{Action}{Gain 1 gold.}{\free}{imgs/basic_income.png}
&
\card{Basic Income}{Action}{Gain 1 gold.}{\free}{imgs/basic_income.png}
&
\card{Basic Income}{Action}{Gain 1 gold.}{\free}{imgs/basic_income.png}
&
\card{Basic Income}{Action}{Gain 1 gold.}{\free}{imgs/basic_income.png}
&
\card{Basic Income}{Action}{Gain 1 gold.}{\free}{imgs/basic_income.png}
&
\card{Basic Income}{Action}{Gain 1 gold.}{\free}{imgs/basic_income.png}
&
\card{Basic Income}{Action}{Gain 1 gold.}{\free}{imgs/basic_income.png}
&
\card{Basic Income}{Action}{Gain 1 gold.}{\free}{imgs/basic_income.png}
&
\card{Basic Income}{Action}{Gain 1 gold.}{\free}{imgs/basic_income.png}
&
\card{Basic Income}{Action}{Gain 1 gold.}{\free}{imgs/basic_income.png}
&

\card{}{ \hspace{15mm} }{}{ \hspace{3mm} }{}
&
\card{}{ \hspace{15mm} }{}{ \hspace{3mm} }{}
&
\card{}{ \hspace{15mm} }{}{ \hspace{3mm} }{}
&
\card{}{ \hspace{15mm} }{}{ \hspace{3mm} }{}
&
\card{}{ \hspace{15mm} }{}{ \hspace{3mm} }{}
&

\end{longtable}

\end{document}
