\documentclass[dvipsnames,parskip,a4paper]{scrartcl}

% Colour and design packages
\usepackage[usenames,dvipsnames]{xcolor}
\usepackage{tikz}
\usetikzlibrary{positioning}

\usepackage{pifont}
\usepackage{graphicx}
\usepackage{etoolbox}
\usepackage{longtable}
\usepackage[export]{adjustbox}
\usepackage[utf8]{inputenc}
\usepackage[margin=1.5cm]{geometry}

\setlength{\parskip}{0pt}
\setlength{\tabcolsep}{0pt}

% To make sure we don't have page numbers.
\usepackage{nopageno}

% Our consistent sizing
\newcommand{\cardroundingradius}{4mm}
\newcommand{\cardboxroundingradius}{0.5mm}
\newcommand{\cardtextborderspace}{1.28mm}
\newcommand{\cardwidth}{57mm}
\newcommand{\cardheight}{86mm}
\newcommand{\cardtitleheight}{7.1mm}
\newcommand{\cardtextheight}{20mm}
\newcommand{\cardtcheight}{6mm}
\newcommand{\cardborderspace}{3mm}
\newcommand{\cardvspace}{3mm}
\newcommand{\circlesize}{1.25mm}

\newcommand{\cardimgborderspace}{0.1mm}
\newcommand{\cardimgwidth}{50.8mm}
\newcommand{\cardimgheight}{37.7mm}
\newcommand{\cardimghalfwidth}{25.4mm}
\newcommand{\cardimghalfheight}{18.85mm}

% Consistent colours
\newcommand{\cardcolour}{gray!50}
\newcommand{\cardboxcolour}{gray!25}
\newcommand{\cardboxbordercolour}{gray}

% Card template
\newcommand{\card}[5]{

\begin{tikzpicture}[baseline = (current bounding box.center)]
\draw[rounded corners = \cardroundingradius, fill = \cardcolour] (0,0) rectangle
    (\cardwidth, \cardheight);

\node (title) at (0.5 * \cardwidth, \cardheight - \cardborderspace)
    [ anchor = north, fill = \cardboxcolour, draw = \cardboxbordercolour, thick, text centered, 
    rounded corners = \cardboxroundingradius,
    inner sep = \cardtextborderspace,
    text width = \cardwidth - 2 * (\cardborderspace + \cardtextborderspace),
    minimum height = \cardtitleheight]
    { \Large #1 };

\node (image) at (0.5 * \cardwidth, \cardborderspace + \cardtcheight + \cardtextheight + 2 * \cardvspace)
    [ anchor = south, fill = \cardboxcolour, thick, text centered,
    rounded corners = \cardboxroundingradius,
    inner sep = \cardimgborderspace,
    text width = \cardwidth - 2 * (\cardborderspace + \cardimgborderspace),
    minimum height = \cardheight - \cardtcheight - \cardtextheight - \cardtitleheight - 2 * \cardborderspace - 3 * \cardvspace]
    {\includegraphics[max size={\cardimgwidth}{\cardimgheight}, min size={\cardimgwidth}{\cardimgheight}, Clip*={.5\width-\cardimghalfwidth} {.5\height-\cardimghalfheight} {.5\width+\cardimghalfwidth} {.5\height+\cardimghalfheight}]{ #5 }};

\node (image_border) at (0.5 * \cardwidth, \cardborderspace + \cardtcheight + \cardtextheight + 2 * \cardvspace)
    [ anchor = south, draw = \cardboxbordercolour, thick, text centered,
    rounded corners = \cardboxroundingradius,
    inner sep = \cardimgborderspace,
    text width = \cardwidth - 2 * (\cardborderspace + \cardimgborderspace),
    minimum height = \cardheight - \cardtcheight - \cardtextheight - \cardtitleheight - 2 * \cardborderspace - 3 * \cardvspace]
    {};

\node (text) at (0.5 * \cardwidth, \cardborderspace + \cardtcheight + \cardvspace)
    [ anchor = south, fill = \cardboxcolour, draw = \cardboxbordercolour, thick, text centered,
    rounded corners = \cardboxroundingradius,
    inner sep = \cardtextborderspace,
    text width = \cardwidth - 2 * (\cardborderspace + \cardtextborderspace),
    minimum height = \cardtextheight]
    { #3 };

\node (type)
    [ fill = \cardboxcolour, draw = \cardboxbordercolour, thick,
    below left = \cardvspace + \cardtcheight and 0mm of text, anchor = south west,
    rounded corners = \cardboxroundingradius,
    inner sep = \cardtextborderspace,
    minimum height = \cardtcheight]
    { #2 };

\node (cost)
    [ fill = \cardboxcolour, draw = \cardboxbordercolour, thick,
    below right = \cardvspace + \cardtcheight and 0mm of text, anchor = south east,
    rounded corners = \cardboxroundingradius,
    inner sep = \cardtextborderspace,
    minimum height = \cardtcheight]
    { #4 Gold };

\end{tikzpicture}%

}

% Elemental symbols
\newcommand{\drawcircle}[1]{\tikz[baseline = (current bounding box.south)]\draw[darkgray, fill = #1] (0,0) circle (\circlesize);}}
\newcommand{\fire}{\drawcircle{Red}}
\newcommand{\earth}{\drawcircle{Sepia}}
\newcommand{\water}{\drawcircle{RoyalBlue}}
\newcommand{\nature}{\drawcircle{Green}}
\newcommand{\magic}{\drawcircle{Mulberry}}
\newcommand{\gold}{\drawcircle{Yellow}}
\newcommand{\chance}{\drawcircle{Orange}}

% Costs
\newcommand{\free}{0}
\newcommand{\onecost}{3}
\newcommand{\twocost}{7}
\newcommand{\threecost}{12}
\newcommand{\fourcost}{18}
\newcommand{\fivecost}{25}

\newcommand{\rerollcost}{2}
\newcommand{\facedowncost}{5}

\newcommand{\handsize}{4}
\newcommand{\dacedownsize}{2}
\newcommand{\shopsize}{5}

\title{Rules and Cards for Elemental Deck Builder}
\author{Emil Indzhev}

\begin{document}

\maketitle

\begin{itemize}

\item

The game is played between two players who take turns. The player whose HP reaches 0 first loses. If both players' HPs reach 0 at the same time, the one whose action caused this wins.

\item

Seven dice determine the strengths of various cards: fire \fire, earth \earth, water \water, nature \nature, magic \magic, gold \gold \ and chance \chance. They are rolled at the start of the game. The chance \chance \ die is also re-rolled whenever its value is needed (possibly multiple times per turn) and dice-control cards cannot affect it.

\item

Each starts with 60 HP and 8 Basic Income cards in their draw pile. The first player starts with 5 gold and the second with 6 gold.

\item

All non-starter cards are shuffled into a shop deck. Initially, there is no shop laid out. When a player re-rolls the shop, which costs \rerollcost \ gold, the current laid out shop is moved to the shop's discard pile and \shopsize \ cards are drawn from the shop's draw pile. When a card is bought by a player, by paying its cost, it is not automatically replaced with a new card. The bought card goes to the player's discard pile, unless it is a passive card, in which case it is immediately and permanently deployed.

\item

On each turn a player may (in any order): gain one gold, play at most one action from their hand, play any number of blessings from their hand, play any number of face down cards, re-roll the shop at most twice, buy at most one card from the shop. Instead of playing an action, the player may place a card face down, which costs \facedowncost \ gold. A played card, after its effect is executed, goes to the player's discard pile. After a player's turn is over, they have to discard their hand and draw \handsize \ cards from their draw pile (this is also done at the start of the game). A player may have at most \dacedownsize \ face down cards at a time.

\item

Whenever a card needs to be drawn from a deck's draw pile, but it is empty. Its discard pile is shuffled and it becomes the draw pile.

\item

Blessings and face down cards may also be played during the opponent's turn. This can be done at any time, including between the opponent playing a card and executing its action. In such a situation, the player whose turn it is, may in turn, also respond before executing their original action. This can repeat ad infinitum.

\item

A player dealing damage (to their opponent or themselves) receives gold equal to the damage dealt.

\end{itemize}

\newpage

\begin{longtable}{ c c c }

\card{Fire}{Action}{Deal \fire \ damage to your opponent.}{\twocost}{imgs/fire.png}
&
\card{Tremor}{Action}{Deal \earth \ damage to your opponent.}{\twocost}{imgs/tremor.png}
&
\card{Heavy Rain}{Action}{Deal \water \ damage to both yourself and  your opponent.}{\twocost}{imgs/heavy_rain.png}
&
\card{Blind Attack}{Action}{Deal \chance \ to your opponent.}{\twocost}{imgs/blind_attack.png}
&
\card{Blazing Fire}{Action}{Deal $2 \times$\fire \ damage to your opponent.}{\threecost}{imgs/blazing_fire.png}
&
\card{Massive Earthquake}{Action}{Deal $2 \times$\earth \ damage to your opponent.}{\threecost}{imgs/earthquake.png}
&
\card{Torrential Rainstorm}{Action}{Deal $2 \times$\water \ damage to both yourself and your opponent.}{\threecost}{}
&
\card{Haphazard Offence}{Action}{Deal $2 \times$\chance \ to your opponent.}{\threecost}{}
&
\card{Lava Surge}{Action}{Deal \fire$+$\earth \ damage to your opponent.}{\threecost}{}
&
\card{Erratic Blaze}{Action}{Deal \fire$+$\chance \ damage to your opponent.}{\threecost}{}
&
\card{Chaotic Avalanche}{Action}{Deal \earth$+$\chance \ damage to your opponent.}{\threecost}{}
&
\card{Scalding Fog}{Action}{Deal \water$+$\fire \ damage to both yourself and your opponent.}{\threecost}{}
&
\card{Devastating Mudslide}{Action}{Deal \water$+$\earth \ damage to both yourself and your opponent.}{\threecost}{}
&
\card{Wild Seas}{Action}{Deal \water$+$\chance \ damage to both yourself and your opponent.}{\threecost}{}
&
\card{Magical Inferno}{Action}{Deal \magic$\times$\fire \ damage to your opponent.}{\fourcost}{}
&
\card{Arcane Meteor}{Action}{Deal \magic$\times$\earth \ damage to your opponent.}{\fourcost}{}
&
\card{Biblical Flood}{Action}{Deal \magic$\times$\water \ damage to both yourself and your opponent.}{\fourcost}{}
&
\card{Ethereal Havoc}{Action}{Deal \magic$\times$\chance \ damage to your opponent.}{\fourcost}{}
&

\card{Ecology}{Action}{Restore \nature \ HP.}{\onecost}{}
&
\card{Reforestation}{Action}{Restore $2 \times$\nature \ HP.}{\twocost}{}
&
\card{Nature Reserves}{Action}{Restore \nature$+$\earth \ HP.}{\twocost}{}
&
\card{Hot Springs}{Action}{Restore \nature$+$\water \ HP.}{\twocost}{}
& 
\card{Clover Field}{Action}{Restore \nature$+$\chance \ HP.}{\twocost}{}
&
\card{Mystical Restoration}{Action}{Restore \magic$\times$\nature \ HP.}{\threecost}{}
&

\card{Marketplace}{Action}{Gain \gold \ gold.}{\onecost}{}
&
\card{Treasury}{Action}{Gain $2 \times$\gold \ gold.}{\twocost}{}
&
\card{Gold Mine}{Action}{Gain \gold$+$\earth \ gold.}{\twocost}{}
&
\card{Gold Panning}{Action}{Gain \gold$+$\water \ gold.}{\twocost}{}
&
\card{Free Market}{Action}{Gain \gold$+$\chance \ gold.}{\twocost}{}
&
\card{Ancient Alchemy}{Action}{Gain \magic$\times$\gold \ gold.}{\threecost}{}
&

\card{Water Reservoirs}{Action}{Shield \water \ against \fire \ damage until the end of your opponent's turn.}{\twocost}{}
&
\card{Solid Infrastructure}{Action}{Shield \earth \ against \water \ damage until the end of your opponent's turn.}{\twocost}{}
&
\card{Natural Forests}{Action}{Shield \nature \ against \earth \ damage until the end of your opponent's turn.}{\twocost}{}
&
\card{Magical Barrier}{Action}{Shield \magic \ against multi-element damage until the end of your opponent's turn.}{\twocost}{}
&
\card{Paid Militia}{Action}{Shield any amount by paying one gold per unit of damage until the end of your opponent's turn.}{\twocost}{}
&
 
\card{Prometheus's Gift}{Action}{Triple the strength of all your \fire \ effects.}{\threecost}{}
&
\card{Gaia's Protection}{Action}{Double the strength of all your \earth \ effects.}{\threecost}{}
&
\card{Poseidon's Trident}{Action}{Double the strength of all your \water \ effects.}{\threecost}{}
&
\card{Ancient Grimoire}{Action}{Double the strength of all your \magic \ effects.}{\threecost}{}
&
\card{Nymphs' Grace}{Action}{Double the strength of all your \nature \ effects.}{\twocost}{}
&
\card{Midas Touch}{Action}{Double the strength of all your \gold \ effects.}{\twocost}{}
&
\card{Purism}{Action}{Double the strength of all your single-element effects.}{\threecost}{}
&

\card{Risk Aversion}{Passive}{You may choose not to re-roll the \chance \ die when its value is needed.}{\threecost}{}
&

\card{Gambling}{Action}{Re-roll a die once.}{\onecost}{}
&
\card{Cheap Trick}{Action}{Change the value of a die by one.}{\onecost}{}
&
\card{Second Chance}{Action}{Re-roll a die up to twice.}{\twocost}{}
&
\card{Sleight of Hand}{Action}{Change the value of a die by up to two.}{\twocost}{}
&
\card{Calculated Risk}{Action}{Re-roll a die up to four times.}{\threecost}{}
&
\card{Smoke and Mirrors}{Action}{Change the value of a die by up to three.}{\threecost}{}
&
\card{Perspective Shift}{Action}{Flip a die over.}{\threecost}{}
&
\card{Trickster God}{Action}{Swap the values of two dice.}{\fourcost}{}
&

\card{Mirror Wall}{Blessing}{Draw a card and look at your opponent's hand.}{\onecost}{}
&
\card{Mirror Table}{Blessing}{Draw a card and look at your opponent's face down cards.}{\onecost}{}
&
\card{Sneak Peek}{Blessing}{Draw a card and look at the top \handsize \ cards of your deck.}{\onecost}{}
&
\card{Reconnaissance}{Blessing}{Draw a card and look at the top \handsize \ cards of your opponent's deck.}{\onecost}{}
&
\card{Forecast}{Blessing}{Draw a card and look at the top \shopsize \ cards of the shop's draw pile.}{\onecost}{}
&

\card{Impatience}{Action}{Reorder your deck.}{\twocost}{}
&
\card{Sabotage}{Action}{Reorder your opponent's deck.}{\twocost}{}
&
\card{Magnetic Hands}{Action}{Move a chosen card from your deck to your hand and then shuffle your deck.}{\twocost}{}
&

\card{Weak Hands}{Action}{Your opponent must discard 3 cards from their hand.}{\threecost}{}
&
\card{Faulty Table}{Action}{Your opponent must discard 1 card from their face down cards.}{\threecost}{}
&

\card{Veto}{Action}{Cancel an action of your opponent and permanently remove this card.}{\threecost}{}
&

\card{All for One}{Blessing}{Discard 3 cards from your hand and play up to 1 extra action.}{\onecost}{}
&
\card{Deal with the Devil}{Blessing}{Draw a card from the shop's draw pile and ``buy" it for free; play up to 2 extra actions.}{\onecost}{}
&
\card{Multitasking Novice}{Blessing}{Play up to 1 extra action.}{\twocost}{}
&
\card{Multitasking Master}{Blessing}{Play up to 2 extra actions.}{\threecost}{}
&
\card{Multitasking Lord}{Blessing}{Play up to 3 extra actions.}{\fourcost}{}
&
\card{Multitasking God}{Blessing}{Play up to 4 extra actions.}{\fivecost}{}
&

\card{Exploration Novice}{Action}{Draw 2 cards.}{\onecost}{}
&
\card{Exploration Master}{Action}{Draw 3 cards.}{\twocost}{}
&
\card{Exploration Lord}{Action}{Draw 4 cards.}{\threecost}{}
&
\card{Exploration God}{Action}{Draw 5 cards.}{\fourcost}{}
&

\card{Recycling Novice}{Action}{Permanently remove up to 1 card from your hand.}{\onecost}{}
&
\card{Recycling Master}{Action}{Permanently remove up to 2 cards from your hand.}{\twocost}{}
&
\card{Recycling Lord}{Action}{Permanently remove up to 3 cards from your hand or this card.}{\threecost}{}
&
\card{Recycling God}{Action}{Permanently remove up to 4 cards from your hand, discard pile or this card.}{\fourcost}{}
&

\card{Wish}{Action}{Buy any card in the game, then shuffle the shop's draw pile.}{\fivecost}{}
&

\card{Deep Pockets}{Passive}{You may re-roll the shop and buy cards from it an unlimited number of times per turn.}{\twocost}{}
&
\card{Express Shipping}{Passive}{All cards you buy go into your hand.}{\threecost}{}
&
\card{Re-roller}{Passive}{Shop re-rolls cost 1 less gold.}{\threecost}{}
&
\card{Big Handed}{Passive}{Draw 1 extra card after your turn.}{\fourcost}{}
&
\card{Roomy Table}{Passive}{You have space for 1 extra face down card.}{\threecost}{}
&
\card{Cheapskate}{Passive}{Face down cards no longer cost gold to play.}{\threecost}{}
&
\card{Proactive}{Passive}{Play up to 1 extra action per turn, but draw 1 fewer cards after your turn.}{\fourcost}{}
&
\card{At what cost}{Passive}{Permanently remove a passive card upon buying this; play up to 1 extra action per turn.}{\fourcost}{}
&
\card{Truly Blessed}{Passive}{Draw a card whenever you play a blessing.}{\fourcost}{}
&

\card{Basic Income}{Action}{Gain 1 gold.}{\free}{}
&
\card{Basic Income}{Action}{Gain 1 gold.}{\free}{}
&
\card{Basic Income}{Action}{Gain 1 gold.}{\free}{}
&
\card{Basic Income}{Action}{Gain 1 gold.}{\free}{}
&
\card{Basic Income}{Action}{Gain 1 gold.}{\free}{}
&
\card{Basic Income}{Action}{Gain 1 gold.}{\free}{}
&
\card{Basic Income}{Action}{Gain 1 gold.}{\free}{}
&
\card{Basic Income}{Action}{Gain 1 gold.}{\free}{}
&
\card{Basic Income}{Action}{Gain 1 gold.}{\free}{}
&
\card{Basic Income}{Action}{Gain 1 gold.}{\free}{}
&
\card{Basic Income}{Action}{Gain 1 gold.}{\free}{}
&
\card{Basic Income}{Action}{Gain 1 gold.}{\free}{}
&
\card{Basic Income}{Action}{Gain 1 gold.}{\free}{}
&
\card{Basic Income}{Action}{Gain 1 gold.}{\free}{}
&
\card{Basic Income}{Action}{Gain 1 gold.}{\free}{}
&
\card{Basic Income}{Action}{Gain 1 gold.}{\free}{}
&

\card{}{ \hspace{15mm} }{}{ \hspace{3mm} }{}
&
\card{}{ \hspace{15mm} }{}{ \hspace{3mm} }{}
&
\card{}{ \hspace{15mm} }{}{ \hspace{3mm} }{}
&
\card{}{ \hspace{15mm} }{}{ \hspace{3mm} }{}
&
\card{}{ \hspace{15mm} }{}{ \hspace{3mm} }{}
&
\card{}{ \hspace{15mm} }{}{ \hspace{3mm} }{}
&

\end{longtable}

\end{document}
